(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{9638:function(e,n,t){Promise.resolve().then(t.bind(t,3488))},3488:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return c}});var r=t(7437),o=t(2265),a=t(6463),s=t(3444),i=t(2098),l=t(2886);function c(){let e=(0,a.useRouter)(),[n,t]=(0,o.useState)({name:"",email:"",verifySent:!1,disabledButton:!1}),c=async r=>{r.preventDefault(),t({...n,disabledButton:!0});let o=await(0,s.z2)({email:n.email,name:n.name,ctftimeToken:n.ctftimeToken,recaptchaCode:void 0});(null==o?void 0:o.registerSuccess)&&e.push("/profile"),(null==o?void 0:o.verifySent)&&t({...n,verifySent:!0}),(null==o?void 0:o.errors)&&t({...n,errors:o.errors})};return n.verifySent?(0,r.jsxs)("div",{className:"panel flex flex-col gap-4 max-w-prose mx-auto",children:[(0,r.jsx)("h1",{className:"font-bold text-4xl",children:"Verify your email"}),(0,r.jsxs)("p",{children:["A verification email has been sent to ",(0,r.jsx)("strong",{children:n.email}),". Please check your inbox and spam folder."]})]}):(0,r.jsxs)("div",{className:"panel flex flex-col gap-4 max-w-prose mx-auto",children:[(0,r.jsx)("h1",{className:"font-bold text-4xl",children:"Register for UIUCTF 2024"}),(0,r.jsx)("p",{children:"Please register one account per team."}),(0,r.jsxs)("form",{className:"flex flex-col gap-2",onSubmit:e=>c(e),children:[(0,r.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,r.jsx)("span",{className:"text-xl font-semibold",children:"Team Name"}),(0,r.jsx)(l.Z,{errors:n.errors,className:"px-2 py-1 bg-surface-main focus-visible:ring-offset-4 focus-visible:ring-offset-surface-panel",autoFocus:!0,required:!0,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",name:"name",placeholder:"Enter team name here",maxLength:64,minLength:2,type:"text",value:n.name,onChange:e=>t({...n,name:e.target.value})})]}),(0,r.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,r.jsx)("span",{className:"text-xl font-semibold",children:"Email"}),(0,r.jsx)(l.Z,{errors:n.errors,className:"px-2 py-1 bg-surface-main focus-visible:ring-offset-4 focus-visible:ring-offset-surface-panel",required:!0,autoComplete:"email",autoCorrect:"off",autoCapitalize:"off",name:"email",placeholder:"Enter email here",maxLength:64,minLength:2,type:"email",value:n.email,onChange:e=>t({...n,email:e.target.value})})]}),(0,r.jsx)(i.b,{className:"mt-4",direction:"e",type:"submit",disabled:n.disabledButton,children:"Register"})]})]})}},2098:function(e,n,t){"use strict";t.d(n,{I:function(){return i},b:function(){return l}});var r=t(7437),o=t(458),a=t(8729);function s(e){let{children:n,direction:t,isActive:a,blur:s}=e;return(0,r.jsxs)("span",{className:"".concat(s?"bg-surface-main/50 backdrop-blur-xl":""," inline-flex flex-row font-bold select-none"),children:["hidden"===t?null:(0,r.jsx)("span",{className:"grid place-content-center w-11 h-11",children:(0,r.jsx)("span",{className:"inline-flex transition-transform motion-reduce:transition-none rotate-".concat(t," group-hover:scale-125 group-disabled:!scale-100 content-center text-3xl leading-none group-disabled:text-button-disabled"),children:"none"!==t?(0,r.jsx)(o.Eh,{}):(0,r.jsx)(o.Cd,{})})}),(0,r.jsx)("span",{className:"transition-colors motion-reduce:transition-none ".concat(a?"bg-button-active group-hover:bg-button-activehover":"bg-button-normal group-hover:bg-button-normalhover"," group-disabled:bg-button-disabled group-disabled:text-button-textdisabled text-white px-1 pb-2 content-center text-4xl leading-none"),children:n})]})}function i(e){let{children:n,href:t,direction:o,isActive:i,blur:l,...c}=e;return(0,r.jsx)(a.r,{href:t,className:"group inline-flex w-fit focus-visible:ring-offset-4",...c,children:(0,r.jsx)(s,{direction:o,isActive:i,blur:l,children:n})})}function l(e){let{children:n,direction:t,blur:o,className:a,...i}=e;return(0,r.jsx)("button",{className:"group inline-flex w-fit focus-visible:ring-offset-4 ".concat(a),...i,children:(0,r.jsx)(s,{direction:t,blur:o,children:n})})}},458:function(e,n,t){"use strict";t.d(n,{Cd:function(){return s},EC:function(){return l},Eh:function(){return a},FG:function(){return u},UM:function(){return c},Ux:function(){return f},gN:function(){return i},v6:function(){return d}});var r=t(7437);t(2265);let o={height:"1em",width:"auto",display:"inline"};function a(e){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16",style:{...o,...e},children:(0,r.jsx)("polygon",{stroke:"none",points:"16 13.2 6.8 4 11 4 11 0 4 0 0 0 0 4 0 11 4 11 4 6.8 13.2 16 16 13.2"})})}function s(e){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16",style:{...o,...e},children:(0,r.jsx)("circle",{r:6,cx:8,cy:8})})}function i(e){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",style:{...o,...e},children:(0,r.jsx)("path",{d:"M15.25 13.5h-4a.75.75 0 0 1-.75-.75v-6a.75.75 0 0 1 1.5 0V12h3.25a.75.75 0 0 1 0 1.5ZM12 2C6.478 2 2 6.478 2 12s4.478 10 10 10 10-4.478 10-10S17.522 2 12 2Z"})})}function l(e){return(0,r.jsx)("svg",{height:16,fill:"currentColor",viewBox:"0 0 100 100",...e,children:(0,r.jsx)("circle",{cx:"50",cy:"50",r:"50"})})}function c(e){return(0,r.jsx)("svg",{height:16,fill:"currentColor",viewBox:"0 0 100 85",...e,children:(0,r.jsx)("polygon",{points:"50 0, 100 85, 0 85"})})}function u(e){return(0,r.jsx)("svg",{height:16,fill:"currentColor",viewBox:"0 0 100 100",...e,children:(0,r.jsx)("rect",{width:"100",height:"100"})})}function f(e){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16",style:{...e},children:[(0,r.jsx)("polygon",{className:"fill-surface-text",points:"8 .6 5.7 5.7 0 6.3 4.3 10 3.1 15.5 8 12.6 12.9 15.5 11.7 10 16 6.3 10.3 5.7 8 .6 8 .6"}),(0,r.jsx)("polyline",{className:"fill-surface-main",points:"8 4.5 8.8 6.4 9.2 7.2 10.1 7.3 12.1 7.5 10.7 8.8 9.9 9.4 10.1 10.3 10.6 12.3 8.8 11.2 8 10.7 7.2 11.2 5.4 12.3 5.9 10.3 6.1 9.4 5.3 8.8 3.9 7.5 5.9 7.3 6.8 7.2 7.2 6.4 8 4.5"})]})}function d(e){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16",style:{...e},children:(0,r.jsx)("polygon",{points:"8 .6 5.7 5.7 0 6.3 4.3 10 3.1 15.5 8 12.6 12.9 15.5 11.7 10 16 6.3 10.3 5.7 8 .6 8 .6"})})}},2886:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(7437);function o(e){let{errors:n,className:t,...o}=e,a=o.name,s=a?null==n?void 0:n[a]:void 0;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{className:"".concat(t," ").concat(void 0!==s?"!border-2 !border-red-500":""),...o}),s&&(0,r.jsx)("span",{className:"text-red-500",children:s})]})}t(2265)},3444:function(e,n,t){"use strict";t.d(n,{A9:function(){return c},T:function(){return i},kS:function(){return s},uB:function(){return o},x4:function(){return a},z2:function(){return l}});var r=t(7269);t(6463);let o=e=>{let{authToken:n}=e;localStorage.token=n},a=async e=>{let{teamToken:n,ctftimeToken:t}=e,o=await(0,r.WY)("POST","/auth/login",{teamToken:n,ctftimeToken:t});switch(o.kind){case"goodLogin":return{authToken:o.data.authToken};case"badTokenVerification":return{teamToken:o.message};case"badUnknownUser":return{badUnknownUser:!0};default:return{teamToken:"Unknown response from server, please contact ctf administrator"}}},s=()=>{localStorage.removeItem("token")},i=async e=>{let{verifyToken:n}=e,t=await(0,r.WY)("POST","/auth/verify",{verifyToken:n});switch(t.kind){case"goodRegister":case"goodVerify":return{authToken:t.data.authToken};case"goodEmailSet":return{emailSet:!0};default:return{verifyToken:t.message}}},l=async e=>{let{email:n,name:t,ctftimeToken:o,recaptchaCode:a}=e,s=await(0,r.WY)("POST","/auth/register",{email:n,name:t,ctftimeToken:o,recaptchaCode:a});switch(s.kind){case"goodRegister":return localStorage.setItem("token",s.data.authToken),{registerSuccess:!0};case"goodVerifySent":return{verifySent:!0};case"badEmail":case"badKnownEmail":case"badCompetitionNotAllowed":return{errors:{email:s.message}};case"badKnownName":return{errors:{name:s.message},data:s.data};case"badName":return{errors:{name:s.message}}}},c=async e=>{let{email:n,recaptchaCode:t}=e,o=await(0,r.WY)("POST","/auth/recover",{email:n,recaptchaCode:t});return"goodVerifySent"===o.kind?{verifySent:!0}:{errors:{email:o.message}}}},7269:function(e,n,t){"use strict";t.d(n,{WY:function(){return a},_y:function(){return o}}),t(6463);let r=()=>{localStorage.removeItem("token")},o=e=>{let{resp:n,valid:t,resolveDataMessage:r}=e;return t.includes(n.kind)?r?{data:n.message}:{data:n.data}:{error:n.message}},a=(e,n,t)=>{let o=null,a="";"GET"===e&&t?a="?"+Object.keys(t).filter(e=>void 0!==t[e]).map(e=>"".concat(e,"=").concat(encodeURIComponent(t[e]))).join("&"):o=t;let s={Authorization:"Bearer ".concat(localStorage.getItem("token"))};return o&&(s["Content-Type"]="application/json"),fetch("".concat("https://rctf.2024.uiuc.tf","/api/v1").concat(n).concat(a),{method:e,headers:s,body:o&&JSON.stringify(o)}).then(e=>e.json()).then(e=>("badToken"===e.kind&&r(),e)).catch(e=>{console.debug(e)})}}},function(e){e.O(0,[729,971,23,744],function(){return e(e.s=9638)}),_N_E=e.O()}]);