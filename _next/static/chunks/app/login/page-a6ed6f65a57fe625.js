(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{1469:function(e,t,n){Promise.resolve().then(n.bind(n,1193))},1193:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n(7437),s=n(2265),o=n(6463),r=n(3444),l=n(8729),i=n(2098),c=n(2886),u=n(217);function f(){let[e,t]=(0,s.useState)({teamToken:"",disabledButton:!1}),[n,f]=(0,s.useState)(!0),[d,m]=(0,s.useState)(void 0),x=(0,o.useSearchParams)(),h=(0,o.useRouter)();(0,s.useEffect)(()=>{x.has("token")?(f(!0),(async()=>{let e=await(0,r.x4)({teamToken:x.get("token"),ctftimeToken:void 0});e.authToken&&m(e.authToken),f(!1)})()):f(!1)},[x]);let k=n=>{n.preventDefault(),t({...e,disabledButton:!0});let a=e.teamToken;try{let e=new URL(a);e.searchParams.has("token")&&(a=e.searchParams.get("token"))}catch(e){}(async()=>{let n=await(0,r.x4)({teamToken:a,ctftimeToken:void 0});if(n.authToken){(0,r.uB)({authToken:n.authToken}),h.push("/profile");return}t({...e,errors:n,disabledButton:!1})})()};return(0,a.jsx)("div",{className:"panel flex flex-col gap-4 max-w-prose mx-auto",children:n?(0,a.jsx)("p",{className:"font-bold text-4xl",children:"Loading..."}):d?(0,a.jsx)(u.Z,{authToken:d}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{className:"font-bold text-4xl",children:"Log in to UIUCTF 2024"}),(0,a.jsxs)("form",{className:"flex flex-col gap-2",onSubmit:e=>k(e),children:[(0,a.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,a.jsx)("span",{className:"text-xl font-semibold",children:"Team Token"}),(0,a.jsx)(c.Z,{errors:e.errors,className:"px-2 py-1 bg-surface-main focus-visible:ring-offset-4 focus-visible:ring-offset-surface-panel",autoFocus:!0,required:!0,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",name:"teamToken",placeholder:"Enter Team Token here",type:"text",value:e.teamToken,onChange:n=>{t({...e,teamToken:n.target.value})}})]}),(0,a.jsx)(l.r,{href:"/recover",className:"w-fit mb-4",children:"Lost your team token?"}),(0,a.jsx)(i.b,{direction:"e",type:"submit",disabled:e.disabledButton,children:"Log in"})]})]})})}function d(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.Suspense,{children:(0,a.jsx)(f,{})})})}},2886:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(7437);function s(e){let{errors:t,className:n,...s}=e,o=s.name,r=o?null==t?void 0:t[o]:void 0;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{className:"".concat(n," ").concat(void 0!==r?"!border-2 !border-red-500":""),...s}),r&&(0,a.jsx)("span",{className:"text-red-500",children:r})]})}n(2265)}},function(e){e.O(0,[729,217,971,23,744],function(){return e(e.s=1469)}),_N_E=e.O()}]);